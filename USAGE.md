# mini-vnode 使い方ガイド

## インストールと実行

1. 依存パッケージのインストール:

```bash
npm install
```

2. 開発サーバーの起動:

```bash
# 学習用バージョンの起動
npm run dev:study

# 完成版の起動
npm run dev:complete
```

3. ビルド:

```bash
# 学習用バージョンのビルド
npm run build:study

# 完成版のビルド
npm run build:complete
```

## プロジェクト構成

### 学習用バージョン (packages/study)

学習用バージョンでは、仮想 DOM の実装を段階的に学ぶことができます。各ステップごとに個別の HTML ファイルと TS ファイルが用意されています。

- **ステップ 1**: 基本的な要素のレンダリング
- **ステップ 2**: テキストノードの処理
- **ステップ 3**: 属性（プロパティ）の処理
- **ステップ 4**: 子要素の処理
- **ステップ 5**: 差分検出と更新（パッチング）

各ステップでは、ブラウザ上でインタラクティブに動作を確認できるデモが用意されています。

### 完成版 (packages/complete)

完成版では、すべての機能が統合された形で実装されています。以下の操作が可能です：

- カウントの増減
- テキストの変更
- リストアイテムの追加
- スタイルの切り替え

各操作でどのような仮想 DOM の変更が発生し、どのような DOM 操作が行われるかをリアルタイムで確認できます。

## 実装内容

プロジェクトの主要なファイルと役割：

- `vnode.ts` - 仮想ノードの型定義と作成関数
- `renderer.ts` - レンダラーとパッチング処理の実装
- 各ステップのファイル - 段階的に機能を追加していく学習用の実装

## 仮想 DOM の主な機能

1. **要素の作成と挿入**: 指定されたタグ名から HTML 要素を作成し、DOM に挿入する機能
2. **テキストノードの処理**: テキスト内容からテキストノードを作成・更新する機能
3. **属性の設定**: HTML 要素に属性（id, class, style など）を設定する機能
4. **イベントリスナーの設定**: 要素にイベントリスナーを追加・削除する機能
5. **子要素の処理**: ネストされた子要素を処理する機能
6. **差分検出と更新**: 既存 VNode と新しい VNode を比較し、必要な変更だけを DOM に適用する機能
